{"version":3,"sources":["webpack:///./src/components/List.vue?6117","webpack:///src/components/List.vue","webpack:///./src/components/List.vue?cb0e","webpack:///./src/components/List.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","headers","songsFilter","scopedSlots","_u","key","fn","db","type","on","$event","loading","_e","firstSearch","loadLastMusics","proxy","ref","items","_l","music","index","class","_v","_s","cantor","titulo","cod","staticClass","favorite","domProps","icons","mdiStar","addFavorite","mdiPlus","snackbar","value","message","staticRenderFns","props","Array","searchable","Boolean","default","String","loadingAllDb","components","SearchBar","data","qtdLastMusics","firstDbLoading","search","selected","$emit","slice","length","methods","searchSongs","songs","textFormat","text","forEach","localStorage","JSON","stringify","showSnackBar","console","log","setTimeout","clearSnackBar","component","VBtn","VChip","VDataTable","VIcon","VSnackbar"],"mappings":"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","file":"js/chunk-2d0bddc0.ff3e5a84.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.songsFilter,\"disable-pagination\":\"\",\"mobile-breakpoint\":0,\"hide-default-footer\":\"\",\"no-data-text\":\"Pesquise por um cantor ou música\"},scopedSlots:_vm._u([{key:\"top\",fn:function(){return [(_vm.searchable)?_c('SearchBar',{attrs:{\"data\":_vm.db,\"type\":_vm.type},on:{\"loading\":function($event){_vm.loading = $event},\"search\":function($event){_vm.songsFilter = $event}}}):_vm._e(),(!_vm.firstSearch && _vm.loadLastMusics && false)?_c('div',{staticClass:\"text-center\"},[_c('v-chip',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$router.push({name: 'updates'})}}},[_vm._v(\" \"+_vm._s(_vm.songsFilter.length)+\" novas músicas, confira abaixo ou no menu! \")])],1):_vm._e()]},proxy:true},{key:\"body\",fn:function(ref){\nvar items = ref.items;\nreturn [_c('tbody',_vm._l((items),function(music,index){return _c('tr',{key:index,class:index % 2 == 0 ? 'bg-green' : ''},[_c('td',[_vm._v(_vm._s(music.cantor))]),_c('td',[_vm._v(_vm._s(music.titulo))]),_c('td',[_vm._v(_vm._s(music.cod))]),_c('td',{staticClass:\"text-center\"},[(!music.favorite)?_c('v-btn',{attrs:{\"dense\":\"\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.addFavorite(index)}}},[_c('v-icon',{domProps:{\"textContent\":_vm._s(_vm.icons.mdiPlus)}})],1):_c('v-icon',{attrs:{\"color\":\"orange\"},domProps:{\"textContent\":_vm._s(_vm.icons.mdiStar)}})],1)])}),0)]}}])}),_c('div',{staticClass:\"fixed-bottom\"},[_c('v-snackbar',{attrs:{\"color\":\"green\",\"value\":_vm.snackbar.value,\"absolute\":\"\",\"bottom\":\"\",\"right\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.snackbar.message)+\" \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"songsFilter\"\n      disable-pagination\n      :mobile-breakpoint=\"0\"\n      hide-default-footer\n      no-data-text=\"Pesquise por um cantor ou música\"\n    >\n      <template v-slot:top>\n        <SearchBar\n          v-if=\"searchable\"\n          @loading=\"loading = $event\"\n          @search=\"songsFilter = $event\"\n          :data=\"db\"\n          :type=\"type\"\n        />\n        <div class=\"text-center\" v-if=\"!firstSearch && loadLastMusics && false\">\n          <v-chip color=\"primary\" @click=\"$router.push({name: 'updates'})\">\n            {{songsFilter.length}} novas músicas, confira abaixo ou no menu!\n          </v-chip>\n        </div>\n      </template>\n      <template v-slot:body=\"{ items }\">\n        <tbody>\n          <tr\n            v-for=\"(music, index) in items\"\n            :key=\"index\"\n            :class=\"index % 2 == 0 ? 'bg-green' : ''\"\n          >\n            <td>{{ music.cantor }}</td>\n            <td>{{ music.titulo }}</td>\n            <td>{{ music.cod }}</td>\n            <td class=\"text-center\">\n              <v-btn\n                dense\n                icon\n                @click=\"addFavorite(index)\"\n                v-if=\"!music.favorite\"\n              >\n                <v-icon v-text=\"icons.mdiPlus\"></v-icon>\n              </v-btn>\n              <v-icon v-else color=\"orange\" v-text=\"icons.mdiStar\"></v-icon>\n            </td>\n          </tr>\n        </tbody>\n      </template>\n    </v-data-table>\n\n    <div class=\"fixed-bottom\">\n      <v-snackbar color=\"green\" :value=\"snackbar.value\" absolute bottom right>\n        {{ snackbar.message }}\n      </v-snackbar>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mdiPlus, mdiStar } from \"@mdi/js\";\nexport default {\n  props: {\n    db: Array,\n    searchable: {\n      type: Boolean,\n      default() {\n        return true;\n      }\n    }, \n    type:{\n      type: String, \n      default: 'raf'\n    },\n    loadingAllDb:{\n      type: Boolean,\n      default: false\n    },\n    loadLastMusics: {\n      type: Boolean,\n      default: true\n    }\n  },\n  components: {\n    SearchBar: () => import(\"./SearchBar\")\n  },\n    created(){\n     if(this.loadingAllDb){\n        this.songsFilter = this.db;\n        return;\n    }\n  },\n  data() {\n    return {\n      icons: {\n        mdiPlus,\n        mdiStar\n      },\n\n      snackbar: {\n        value: false,\n        message: null\n      },\n\n      headers: [\n        {\n          text: \"Cantor\",\n          value: \"cantor\",\n          sortable: false\n        },\n        {\n          text: \"Música\",\n          value: \"titulo\",\n          sortable: false\n        },\n        {\n          text: \"Código\",\n          value: \"cod\",\n          sortable: false\n        },\n        {\n          text: \"favoritar\",\n          value: \"actions\",\n          sortable: false\n        }\n      ],\n      qtdLastMusics: 80,\n      songsFilter: [],\n      firstDbLoading: false,\n      firstSearch: false,\n      search: \"\",\n      selected: \"\"\n    };\n  },\n   watch:{\n    songsFilter(){\n      this.$emit('changeSongs', this.songsFilter);\n    },\n    db(){\n      //Quando demorar pra atribuir valor ao db, vai cair nesse watch só uma vez, se não vai pelo created\n      if(this.db.length > 0 && !this.firstDbLoading && this.loadLastMusics){\n        this.songsFilter = this.db.slice(this.db.length - this.qtdLastMusics, this.db.length);\n        this.firstDbLoading = true\n      }\n    }\n  },\n  methods: {\n    searchSongs(data) {\n      this.search = data;\n      this.songs = this.db;\n    },\n    textFormat(text) {\n      return text\n        .normalize(\"NFD\")\n        .replace(/[\\u0300-\\u036f]/g, \"\")\n        .trim();\n    },\n\n    addFavorite(index) {\n      let db = JSON.parse(localStorage[this.type]);\n      \n      db.forEach(music => {\n        if (music.cod == this.songsFilter[index].cod) {\n          music.favorite = true;\n          //Atualizar no front sem ter que carregar todas músicas novamente.\n          this.songsFilter[index].favorite = true;\n\n          return;\n        }\n      });\n\n      localStorage[this.type] = JSON.stringify(db);\n\n      this.showSnackBar(\"Musica adicionada aos favoritos com sucesso!\");\n      console.log(\"chamou favorito\");\n    },\n    showSnackBar(message) {\n      this.snackbar.value = true;\n      this.snackbar.message = message;\n      setTimeout(() => {\n        this.clearSnackBar();\n      }, 1000);\n    },\n    clearSnackBar() {\n      this.snackbar.value = false;\n      this.snackbar.message = null;\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=57bdc217&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\ninstallComponents(component, {VBtn,VChip,VDataTable,VIcon,VSnackbar})\n"],"sourceRoot":""}
{"version":3,"sources":["webpack:///./src/components/SearchBar.vue?1657","webpack:///src/components/SearchBar.vue","webpack:///./src/components/SearchBar.vue?dc4e","webpack:///./src/components/SearchBar.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","type","icons","mdiMagnify","on","autoComplete","$event","indexOf","_k","keyCode","key","selectFirstAndSearch","model","value","callback","$$v","search","expression","staticStyle","_l","autoCompleteValue","slice","music","index","searchMusic","_v","_s","data","label","length","_e","staticRenderFns","props","autoCompleteData","methods","clearAutoComplete","$emit","result","filter","song","undecorate","undefined","string","normalize","replace","autoCompleteShow","forEach","startsWith","push","loadAutoCompleteData","singer","includes","cantor","musics","titulo","map","created","watch","component","VCol","VContainer","VList","VListItem","VRow","VTextField"],"mappings":"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","file":"js/chunk-2d0ab67b.c9e748a6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-row',{staticClass:\"d-flex justify-content-center\",attrs:{\"dense\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"lg\":\"8\"}},[_c('v-text-field',{attrs:{\"rounded\":\"\",\"outlined\":\"\",\"dense\":\"\",\"autocomplete\":\"off\",\"placeholder\":\"Música ou Cantor\",\"label\":(\"Pesquisar por músicas da \" + _vm.type),\"append-icon\":_vm.icons.mdiMagnify,\"hide-details\":\"\"},on:{\"keyup\":[_vm.autoComplete,function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.selectFirstAndSearch()}]},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"lg\":\"8\"}},[_c('v-list',{staticClass:\"col-12 position-absolute p-0 mt-1\",staticStyle:{\"z-index\":\"3\"}},[_vm._l((_vm.autoCompleteValue.slice(0, 10)),function(music,index){return _c('v-list-item',{key:index,staticClass:\"border-bottom\",attrs:{\"dense\":\"\"},on:{\"click\":function($event){return _vm.searchMusic(music)}}},[_vm._v(\" \"+_vm._s(music.data)+\" (\"+_vm._s(music.label)+\") \")])}),(_vm.autoCompleteValue.length === 0 && _vm.search.length > 1)?_c('div',[_c('v-list-item',{staticClass:\"d-flex justify-center\"},[_vm._v(\" Não achamos nenhum cantor ou música com o nome de \"),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(\": \\\"\"+_vm._s(_vm.search)+\"\\\". \")])])],1):_vm._e()],2)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <v-row dense class=\"d-flex justify-content-center\">\n      <v-col cols=\"12\" lg=\"8\">\n        <v-text-field\n          rounded\n          outlined\n          dense\n          autocomplete=\"off\"\n          v-model=\"search\"\n          @keyup=\"autoComplete\"\n          @keyup.enter=\"selectFirstAndSearch()\"\n          placeholder=\"Música ou Cantor\"\n          :label=\"`Pesquisar por músicas da ${type}`\"\n          :append-icon=\"icons.mdiMagnify\"\n          hide-details\n        >\n        </v-text-field>\n      </v-col>\n      <v-col cols=\"12\" lg=\"8\">\n        <v-list class=\"col-12 position-absolute p-0 mt-1\" style=\"z-index: 3\">\n          <v-list-item\n            dense\n            class=\"border-bottom\"\n            v-for=\"(music, index) in autoCompleteValue.slice(0, 10)\"\n            :key=\"index\"\n            @click=\"searchMusic(music)\"\n          >\n            {{ music.data }} ({{ music.label }})\n          </v-list-item>\n\n          <div v-if=\"autoCompleteValue.length === 0 && search.length > 1\">\n            <v-list-item class=\"d-flex justify-center\">\n              Não achamos nenhum cantor ou música com o nome de\n              <span class=\"font-weight-bold\">: \"{{ search }}\". </span>\n            </v-list-item>\n            <!-- <v-list-item>Você não quis dizer</v-list-item> -->\n          </div>\n        </v-list>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport { mdiMagnify } from \"@mdi/js\";\n\nexport default {\n  props: [\"data\", \"type\"],\n  data() {\n    return {\n      icons: {\n        mdiMagnify\n      },\n      search: \"\",\n      autoCompleteValue: \"\",\n      autoCompleteData: []\n    };\n  },\n  methods: {\n    searchMusic(music) {\n      this.clearAutoComplete();\n      this.$emit(\"loading\", false);\n      const result = this.filter(music);\n      this.$emit(\"search\", result);\n      this.$emit(\"loading\", false);\n    },\n    selectFirstAndSearch() {\n      let music = this.autoCompleteValue[0];\n      if (music) {\n        this.searchMusic(music);\n        return;\n      }\n    },\n    filter(music) {\n      return this.data.filter(song => {\n        return song[music.type] === music.data;\n      });\n    },\n    undecorate(string) {\n      if (string != undefined) {\n        string = string\n          .toLowerCase()\n          .trim()\n          .replace(/\\s/g, \"\");\n        string = string.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\n        return string;\n      }\n      return false;\n    },\n    autoComplete() {\n      this.autoCompleteShow = true;\n      if (this.search.length == 0) {\n        this.autoCompleteValue = \"\";\n        return false;\n      }\n      // Atribui o autoCompleteValue correspondente do input se encontrado\n      let result = [];\n      let search = this.undecorate(this.search);\n      this.autoCompleteData.forEach(music => {\n        if (music.search.startsWith(search)) {\n          result.push(music);\n        }\n      });\n      this.autoCompleteValue = result;\n    },\n    clearAutoComplete() {\n      this.autoCompleteValue = [];\n      this.search = \"\";\n    },\n    loadAutoCompleteData() {\n      if (this.data == null) {\n        return;\n      }\n      this.$emit(\"loading\", true);\n      //Retira cantores repeditos;\n      var singer = [];\n      const musics = [];\n\n      this.data.forEach(music => {\n        singer.includes(music.cantor) ? false : singer.push(music.cantor);\n        musics.push({\n          search: this.undecorate(music.titulo),\n          data: music.titulo,\n          type: \"titulo\",\n          label: \"Música\"\n        });\n      });\n      singer = singer.map(singer => {\n        return {\n          search: this.undecorate(singer),\n          data: singer,\n          type: \"cantor\",\n          label: \"Cantor\"\n        };\n      });\n\n      this.autoCompleteData.push(...singer);\n      this.autoCompleteData.push(...musics);\n      this.$emit(\"loading\", false);\n    }\n  },\n\n  created() {\n    this.loadAutoCompleteData();\n  },\n  watch: {\n    data() {\n      //demora para passar o data, então tem que deixar\n      //monitorando para chamar a funcao de carregar o autocomplete.\n      this.loadAutoCompleteData();\n    }\n  }\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchBar.vue?vue&type=template&id=34652be3&\"\nimport script from \"./SearchBar.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VCol,VContainer,VList,VListItem,VRow,VTextField})\n"],"sourceRoot":""}
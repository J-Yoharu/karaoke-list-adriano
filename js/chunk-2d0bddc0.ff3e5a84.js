(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bddc0"],{"2e90":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("v-data-table",{attrs:{headers:t.headers,items:t.songsFilter,"disable-pagination":"","mobile-breakpoint":0,"hide-default-footer":"","no-data-text":"Pesquise por um cantor ou música"},scopedSlots:t._u([{key:"top",fn:function(){return[t.searchable?e("SearchBar",{attrs:{data:t.db,type:t.type},on:{loading:function(a){t.loading=a},search:function(a){t.songsFilter=a}}}):t._e(),(!t.firstSearch&&t.loadLastMusics,t._e())]},proxy:!0},{key:"body",fn:function(a){var s=a.items;return[e("tbody",t._l(s,(function(a,s){return e("tr",{key:s,class:s%2==0?"bg-green":""},[e("td",[t._v(t._s(a.cantor))]),e("td",[t._v(t._s(a.titulo))]),e("td",[t._v(t._s(a.cod))]),e("td",{staticClass:"text-center"},[a.favorite?e("v-icon",{attrs:{color:"orange"},domProps:{textContent:t._s(t.icons.mdiStar)}}):e("v-btn",{attrs:{dense:"",icon:""},on:{click:function(a){return t.addFavorite(s)}}},[e("v-icon",{domProps:{textContent:t._s(t.icons.mdiPlus)}})],1)],1)])})),0)]}}])}),e("div",{staticClass:"fixed-bottom"},[e("v-snackbar",{attrs:{color:"green",value:t.snackbar.value,absolute:"",bottom:"",right:""}},[t._v(" "+t._s(t.snackbar.message)+" ")])],1)],1)},n=[],o=(e("4160"),e("fb6a"),e("d3b7"),e("ac1f"),e("5319"),e("841c"),e("498a"),e("159b"),e("94ed")),i={props:{db:Array,searchable:{type:Boolean,default:function(){return!0}},type:{type:String,default:"raf"},loadingAllDb:{type:Boolean,default:!1},loadLastMusics:{type:Boolean,default:!0}},components:{SearchBar:function(){return e.e("chunk-2d0ab67b").then(e.bind(null,"14ac"))}},created:function(){this.loadingAllDb&&(this.songsFilter=this.db)},data:function(){return{icons:{mdiPlus:o["f"],mdiStar:o["g"]},snackbar:{value:!1,message:null},headers:[{text:"Cantor",value:"cantor",sortable:!1},{text:"Música",value:"titulo",sortable:!1},{text:"Código",value:"cod",sortable:!1},{text:"favoritar",value:"actions",sortable:!1}],qtdLastMusics:80,songsFilter:[],firstDbLoading:!1,firstSearch:!1,search:"",selected:""}},watch:{songsFilter:function(){this.$emit("changeSongs",this.songsFilter)},db:function(){this.db.length>0&&!this.firstDbLoading&&this.loadLastMusics&&(this.songsFilter=this.db.slice(this.db.length-this.qtdLastMusics,this.db.length),this.firstDbLoading=!0)}},methods:{searchSongs:function(t){this.search=t,this.songs=this.db},textFormat:function(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim()},addFavorite:function(t){var a=this,e=JSON.parse(localStorage[this.type]);e.forEach((function(e){if(e.cod==a.songsFilter[t].cod)return e.favorite=!0,void(a.songsFilter[t].favorite=!0)})),localStorage[this.type]=JSON.stringify(e),this.showSnackBar("Musica adicionada aos favoritos com sucesso!"),console.log("chamou favorito")},showSnackBar:function(t){var a=this;this.snackbar.value=!0,this.snackbar.message=t,setTimeout((function(){a.clearSnackBar()}),1e3)},clearSnackBar:function(){this.snackbar.value=!1,this.snackbar.message=null}}},r=i,c=e("2877"),l=e("6544"),d=e.n(l),u=e("8336"),h=e("cc20"),b=e("8fea"),f=e("132d"),g=e("2db4"),v=Object(c["a"])(r,s,n,!1,null,null,null);a["default"]=v.exports;d()(v,{VBtn:u["a"],VChip:h["a"],VDataTable:b["a"],VIcon:f["a"],VSnackbar:g["a"]})}}]);
//# sourceMappingURL=chunk-2d0bddc0.ff3e5a84.js.map